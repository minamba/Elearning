@model ELearning.Models.HomeWithClassAndSubchapterViewModel

@{
    ViewBag.Title = "Home Page";
    string fade = "";
    string date;
    string date2;
    int subChapterId = 0;
}
<div class="wrapper">
    <div class="jumbotron-fluid col-12 col-md-12 col-lg-12 mx-auto backgroundHome ">
        <header class="my-auto">
            <h1 class="text-white  text-center bigtitlePosition" style="font-size:8vw;">Ousraty <b class="text-info">E</b>-learning</h1>
            <span class="animated bounce centered"></span>
        </header>
        <divEffect>
            <p2 class="lead col-md-12 col-lg-12 lead text-white split">Formez-vous maintenant</p2>
        </divEffect>
    </div>

    <!------------------------------------------------------------------------SECTION 4------------------------------------------------------------------------------------->
    <section class="container-fluid col-lg-12  bg-light">
        <div class="p-0 col-12 col-md-12 col-lg-12 pb-4  bg-light">
            @*<h2 class="text-center">Dernieres vidéos ajoutées</h2>*@
            <div class="container">
                <div class="card-deck">

                    @if (@Model.ListClass.Count > 0)
                    {
                        for (int i = 0; i < @Model.ListClass.Count; i++)
                        {
                            fade = "fade-up";

                            <div class="card m-3 shadow-lg" data-aos=@fade data-aos-offset="200" data-aos-easing="ease-in-sine">

                                @if (@Model.ListSubChapter2.Count != 0)
                                {
                                    for (int j = 0; j < @Model.ListSubChapter2.Count; j++)
                                    {
                                        if (@Model.ListSubChapter2[j].Chapter_.class_id == Model.ListClass[i].id)
                                        {
                                            System.Diagnostics.Debug.WriteLine("cours qui contient des sous chap");
                                            subChapterId = Model.ListSubChapter2[j].id;
                                        }
                                        else
                                        {
                                            System.Diagnostics.Debug.WriteLine("ce cours n'as pas de sous chap");
                                            subChapterId = 0;

                                        }
                                    }
                                }

                                @if (subChapterId != 0)
                                {
                                    <img src="@Url.Content("http://vps64363.lws-hosting.com/Img/" + @Model.ListClass[i].url_img)" alt="@Model.ListClass[i].name" class="d-block  w-100 hcarousel card-img-top " onclick="location.href='@Url.Action("Index", "Subchapter_", new { sub_chapter_id = subChapterId, class_id = Model.ListClass[i].id })'" />
                                }
                                else
                                {
                                    <img src="@Url.Content("http://vps64363.lws-hosting.com/Img/" + @Model.ListClass[i].url_img)" alt="@Model.ListClass[i].name" class="d-block  w-100 hcarousel card-img-top " />
                                }


                                <div class="card-body">
                                    <h5 class="card-title">
                                        <b class="text-info">@Model.ListClass[i].name : <b class="text-muted">@Model.ListClass[i].description </b> <b class="text-info">@*(@Model.ListSubChapter2[i].Chapter_.Class_.name)*@</b></b>
                                    </h5>
                                </div>
                            </div>
                        }
                    }
                </div>
            </div>
        </div>
    </section>
</div>
<div style="height:450px;"></div>
<!-----------------------------------------SECTION 1------------------------------------------------>
<script>
    var textArray = ["F o r m e z - v o u s  m a i n t e n a n t  a v e c  o u s r a t y "];

    function random(min, max) {
        return (Math.random() * (max - min)) + min;
    }

    var times = 0;
    function changeText() {
        var getText = textArray[times];

        if (times == textArray.length - 1) {
            times = 0;
        } else {
            times++;
        }

        $('.split').text(getText);

        var text = $('.split');
        $(text).lettering();
        textConvert = $('.split').html();
        textConvert = textConvert.replace(/span/g, 'div');
        $('.split').html(textConvert);

        $('.split div').each(function (i) {
            $(this).addClass('characters');
            $(this).lettering();
            var width = $(this).find('span').outerWidth(true);
            var height = $(this).find('span').outerHeight(true);
            $(this).css('width', (width != 0 ? width + 1 : 10) + 'px');
            $(this).css('height', height + 'px');

        });

        $('.split div span').each(function (i) {
            $(this).addClass('separate');
            TweenMax.from($(this), 2.5, {
                opacity: 0,
                x: random(-500, 500),
                y: random(-500, 500),
                z: random(-500, 500),
                scale: .1,
                delay: i * .02,
                yoyo: false,
                repeat: 0,
                repeatDelay: 5,
            });
        });
    }
    changeText();

    setInterval(function () { }, 12000);


</script>

<!--Script pour l'effet sur l'ecriture dans la baniere-->
<script>

    var i = 0;
    var txt = "Plus qu'un institut, une famille..."; /* The text */
    var speed = 50; /* The speed/duration of the effect in milliseconds */

    function typeWriter() {
        if (i < txt.length) {
            document.getElementById("title2").innerHTML += txt.charAt(i);
            i++;
            setTimeout(typeWriter, speed);
        }
    }

    setInterval(function () { typeWriter(); }, 4000);
</script>


<!-- effet sur grand titre -->

<script>
    // Wrap every letter in a span
    $('.ml6 .letters').each(function () {
        $(this).html($(this).text().replace(/([^\x00-\x80]|\w)/g, "<span class='letter'>$&</span>"));
    });

    anime.timeline({ loop: true })
        .add({
            targets: '.ml6 .letter',
            translateY: ["1.1em", 0],
            translateZ: 0,
            duration: 750,
            delay: function (el, i) {
                return 50 * i;
            }
        }).add({
            targets: '.ml6',
            opacity: 0,
            duration: 1000,
            easing: "easeOutExpo",
            delay: 1000
        });
</script>



<!--SCRIPT POUR LE SCROLL-->
<script>

    $(document).ready(function () {
        // Check if element is scrolled into view
        function isScrolledIntoView(elem) {
            var docViewTop = $(window).scrollTop();
            var docViewBottom = docViewTop + $(window).height();

            var elemTop = $(elem).offset().top;
            var elemBottom = elemTop + $(elem).height();

            return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));
        }
        // If element is scrolled into view, fade it in
        $(window).scroll(function () {
            $('.scroll-animations .animated').each(function () {
                if (isScrolledIntoView(this) === true) {
                    $(this).addClass('fadeInLeft');
                }
            });
        });

    });
</script>


<script>
    viewShown: function () {
        //$(".layout-content").removeClass("has-navbar");
        $(".nav-bar").hide();
        $(".view - footer").hide();
    }
</script>


<!--script effet du fade sur les image(arrivage des images petit a petit)-->
<script src="~/Scripts/aos.js"></script>
<script>
    AOS.init({
        easing: 'ease-in-out-sine'
    });
</script>




@*<script>
            function openNav() {
                document.getElementById("mySidenav").style.width = "250px";
                document.getElementById("main").style.marginLeft = "250px";
                //document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
            }

            function closeNav() {
                document.getElementById("mySidenav").style.width = "0";
                document.getElementById("main").style.marginLeft = "0";
                document.body.style.backgroundColor = "white";
            }
    </script>*@

@model ELearning.Models.HomeWithClassAndSubchapterViewModel

@{
    ViewBag.Title = "Home Page";
    string fade = "";
    string date ;
    string date2;
}
<div class="wrapper">
    <div class="jumbotron-fluid col-12 col-md-12 col-lg-12 mx-auto backgroundHome ">
        <header class="my-auto">
            <h1 class="text-white  text-center bigtitlePosition" style="font-size:8vw;">Plateforme <b class="text-info">E</b>-learning</h1>
            <span class="animated bounce centered"></span>
        </header>
        <divEffect>
            <p2 class="lead col-md-12 col-lg-12 lead text-white split">Institut Malik Ibn Anas</p2>
        </divEffect>
    </div>

    <!----------------------------------TITRE ANIMATION----------------------------------------------->
    <section class="container-fluid grad2 col-12 col-md-12 col-sm-12 pb-3 pt-5">
        <divh2 class=" text-center" data-aos="fade-left" data-aos-offset="300" data-aos-easing="ease-in-sine">
            <h2 class=" animated col-md-12 col-lg-12 col-sm-12 rounded-pill bgScrollPage text-white text-capitalize">
                Dernièrs cours
            </h2>
        </divh2>
    </section>
    <!----------------------------------FIN TITRE ANIMATION----------------------------------------------->
    @*<div class="row pt-0">
        <section class="bg-light col-md-12">*@

    @*<h2 class="mb-5 text-center">Derniers cours ajoutés</h2>*@
    <section class="container-fluid col-12 col-md-12 col-lg-12 col-xl-12 p-0">
        <div class="carousel slide" data-ride="carousel" id="carouselExample">

            <!--LES INDICATEURS EN BAS DU CAROUSEL POUR LINDICATION DU NB DIMAGE-->
            <ol class="carousel-indicators">
                <!--ajout des indications du carousel + action sur les indicateurs-->
                <li data-target="#carouselExample" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExample" data-slide-to="1"></li>
                <li data-target="#carouselExample" data-slide-to="2"></li>
            </ol>

            <!--DECLARATION DU CAROUSEL-->
            <div class="carousel-inner" data-interval="4000">
                <div class="carousel-item active">
                    <img src="../Content/Img/@Model.ListClass[0].url_img" alt="@Model.ListClass[0].name" class="d-block w-100 hcarousel"  onclick="location.href='@Url.Action("Index", "Chapter_", new { class_id = @ViewBag.classidzero, class_description = @ViewBag.classdescriptionzero})'" />
                    <!--ajout d'informations sur l'image-->
                    <div class="carousel-caption">
                        <h3 class="text-white sizeCarousel" style="font-size:8vw;">@Model.ListClass[0].name</h3>
                        <button type="button" onclick="location.href='@Url.Action("Index", "Chapter_", new { class_id = @ViewBag.classidzero, class_description = @ViewBag.classdescriptionzero})'" class="btn btn-outline-light btn-lg">Acceder au cours</button>
                    </div>

                </div>

                @for (int i = 1; i < Model.ListClass.Count; i++)
                {
                    <div class="carousel-item ">
                        <img src="../Content/Img/@Model.ListClass[i].url_img" alt="@Model.ListClass[i].name" class="d-block  w-100 hcarousel "   onclick="location.href='@Url.Action("Index", "Chapter_", new { class_id = @Model.ListClass[i].id, class_description = @Model.ListClass[i].description})'" />
                        <!--ajout d'informations sur l'image-->
                        <div class="carousel-caption">
                            <h3 class="text-white sizeCarousel" style="font-size:8vw;">@Model.ListClass[i].name</h3>
                            <button type="button" onclick="location.href='@Url.Action("Index", "Chapter_", new { class_id = @ViewBag.classidzero, class_description =  @Model.ListClass[i].description})'"  class="btn btn-outline-light btn-lg">Acceder au cours</button>
                        </div>


                    </div>
                }
            </div>

            <!--BOUTON QUI PERMET DALLER SUR LE CAROUSEL ITEM PRECEDENT-->
            <a class="carousel-control-prev" data-slide-to="prev" href="#carouselExample">
                <span class="carousel-control-prev-icon"></span>
            </a>

            <!--BOUTON QUI PERMET DALLER SUR LE CAROUSEL ITEM SUIVANT-->
            <a class="carousel-control-next" data-slide="next" href="#carouselExample">
                <span class="carousel-control-next-icon"></span>
            </a>

        </div>
    </section>


    <!----------------------------------TITRE ANIMATION----------------------------------------------->
    <section class="container-fluid grad8 col-12 col-md-12 col-lg-12 col-sm-12 pb-3 pt-5 ">
        <divh2 class="mx-auto text-center divh2Size" data-aos="fade-zoom-in" data-aos-easing="ease-in-back" data-aos-delay="300" data-aos-offset="0">
            <h2 class="animated col-12 col-md-12 col-lg-12 col-sm-12 rounded-pill bgScrollPage text-white text-capitalize">
                Nos valeurs
            </h2>
        </divh2>
    </section>
    <!----------------------------------FIN TITRE ANIMATION----------------------------------------------->
    <!-------------------------------------------------------------------------------SECTION 2 PARALLAAAAAAAAAAAX------------------------------------------------------------------------------------>
    @*<div class="container homeSection2">*@
    <section class="container-fluid col-12 col-md-12 col-lg-12 col-sm-12 pb-0 parallax" style="padding-bottom:70px;">
        @*<img src="~/Content/Img/learning.jpeg" class="d-block w-100 col-6" />*@
        <divparallax class="col-12 col-lg-12 col-md-12 bg-transparent">
            <h4 class="container col-lg-12 col-md-12 col-12 text-white text-center ">Apprendre, Pratiquer et Transmettre</h4>
            <div class="container col-lg-12 col-md-12 col-12 pt-5">
                <hr class="hrColor" />
            </div>
            <h4 class="text-white  text-center"><i>Essayons d'être meilleur qu'hier</i></h4>

        </divparallax>
    </section>

    <!----------------------------------TITRE ANIMATION----------------------------------------------->
    <section class="container-fluid grad3 pb-3 pt-5">
        <divh2 class="mx-auto text-center divh2Size" data-aos="fade-zoom-in" data-aos-easing="ease-in-back" data-aos-delay="300" data-aos-offset="0">
            <h2 class="animated col-12 col-md-12 col-lg-12 col-sm-12 rounded-pill bgScrollPage text-white text-capitalize">
                Derniers fichiers
            </h2>
        </divh2>
    </section>
    <!----------------------------------FIN TITRE ANIMATION----------------------------------------------->
    <!------------------------------------------------------------------------SECTION 3------------------------------------------------------------------------------------->
    <section class="container-fluid bg-light col-lg-12">
        <div class="bg-light p-0 col-12 col-md-12 col-lg-12 pb-4">
            @*<h2 class="text-center">Dernieres vidéos ajoutées</h2>*@
            <div class="container">
                <div class="card-deck">
                    @for (int i = 0; i < @Model.ListSubChapter.Count; i++)
                    {
                        if (i == 0)
                        {
                            fade = "fade-right";
                        }
                        else if (i == 1)
                        {
                            fade = "fade-up";
                        }
                        else
                        {
                            fade = "fade-left";
                        }

                        <div class="card m-3 shadow-lg" data-aos=@fade data-aos-offset="200" data-aos-easing="ease-in-sine">
                            <iframe src="@Model.ListSubChapter[i].url_file" frameborder="0" width="100%" height="100%" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
                            <div class="card-body">
                                <h5 class="card-title">
                                    <b>@Model.ListSubChapter[i].name <b class="text-info">(@Model.ListSubChapter[i].Chapter_.name)</b></b>
                                </h5>

                            @{
                            date = String.Format("{0:d}", Model.ListSubChapter[i].date_creation);
                            }   
                                <p class="text-muted"><i>Posté le @date   </i></p>
                            </div>
                            <div class="card-footer">
                                <button onclick="location.href='@Url.Action("Index", "Subchapter_", new { sub_chapter_id = @Model.ListSubChapter[i].id})'" class="btn btn-block btn-outline-secondary btn-info" data-toggle="modal" data-target="#echarpeModal">Consulter</button>
                            </div>

                        </div>
                    }
                </div>
            </div>
        </div>
    </section>

    <!----------------------------------TITRE ANIMATION----------------------------------------------->
    <section class="container-fluid grad12 pb-3 pt-5">
        <divh2 class="mx-auto text-center divh2Size" data-aos="fade-zoom-in" data-aos-easing="ease-in-back" data-aos-delay="300" data-aos-offset="0">
            <h2 class="animated col-12 col-md-12 col-lg-12 col-sm-12 rounded-pill bgScrollPage text-white text-capitalize">
                Dernières vidéos
            </h2>
        </divh2>
    </section>
    <!----------------------------------FIN TITRE ANIMATION----------------------------------------------->

    <!------------------------------------------------------------------------SECTION 4------------------------------------------------------------------------------------->
    <section class="container-fluid col-lg-12" style="background-color:black;">
        <div class="p-0 col-12 col-md-12 col-lg-12 pb-4"  style="background-color:black;">
            @*<h2 class="text-center">Dernieres vidéos ajoutées</h2>*@
            <div class="container">
                <div class="card-deck">
                    @for (int i = 0; i < @Model.ListSubChapter2.Count; i++)
                    {
                        if (i == 0)
                        {
                            fade = "fade-right";
                        }
                        else if (i == 1)
                        {
                            fade = "fade-up";
                        }
                        else
                        {
                            fade = "fade-left";
                        }

                        <div class="card m-3 shadow-lg" data-aos=@fade data-aos-offset="200" data-aos-easing="ease-in-sine">
                            <div class="video-frame">
                                    <video class="" style="width:100%; height:auto;" controls>
                                        <source class="shadow-lg card-img-top" src="@Url.Content("~/content/Video/"+@Model.ListSubChapter2[i].url_video)" type="video/mp4" />
                                    </video>
                                </div>

                            <div class="card-body">
                                <h5 class="card-title">
                                    <b>@Model.ListSubChapter2[i].name <b class="text-info">(@Model.ListSubChapter2[i].Chapter_.name)</b></b>
                                </h5>

                                @{
                                    date2 = String.Format("{0:d}", Model.ListSubChapter2[i].date_creation);
                                }
                                <p class="text-muted"><i>Posté le @date2   </i></p>
                            </div>
                            <div class="card-footer">
                                <button onclick="location.href='@Url.Action("Index", "Subchapter_", new { sub_chapter_id = @Model.ListSubChapter2[i].id})'" class="btn btn-block btn-outline-secondary btn-info" data-toggle="modal" data-target="#echarpeModal">Consulter</button>
                            </div>

                        </div>
                                    }
                </div>
            </div>
        </div>
    </section>
</div>
    <!-----------------------------------------SECTION 1------------------------------------------------>
    <script>
        var textArray = ["I n s t i t u t   M a l i k   I b n   A n a s"];

                                        function random(min, max) {
                                            return (Math.random() * (max - min)) + min;
                                        }

                                        var times = 0;
                                        function changeText() {
                                            var getText = textArray[times];

                                            if (times == textArray.length - 1) {
                                                times = 0;
                                            } else {
                                                times++;
                                            }

            $('.split').text(getText);

                                            var text = $('.split');
            $(text).lettering();
                                            textConvert = $('.split').html();
                                            textConvert = textConvert.replace(/span/g, 'div');
            $('.split').html(textConvert);

            $('.split div').each(function (i) {
                $(this).addClass('characters');
                $(this).lettering();
                                                var width = $(this).find('span').outerWidth(true);
                                                var height = $(this).find('span').outerHeight(true);
                $(this).css('width', (width != 0 ? width + 1 : 10) + 'px');
                $(this).css('height', height + 'px');

                                            });

            $('.split div span').each(function (i) {
                $(this).addClass('separate');
                                                TweenMax.from($(this), 2.5, {
                                                    opacity: 0,
                    x: random(-500, 500),
                    y: random(-500, 500),
                    z: random(-500, 500),
                    scale: .1,
                    delay: i * .02,
                    yoyo: false,
                    repeat: 0,
                    repeatDelay: 5,
                });
                                            });
                                        }
        changeText();

        setInterval(function () { }, 12000);


    </script>

    <!--Script pour l'effet sur l'ecriture dans la baniere-->
    <script>

        var i = 0;
                                        var txt = "Plus qu'un institut, une famille..."; /* The text */
                                        var speed = 50; /* The speed/duration of the effect in milliseconds */

                                        function typeWriter() {
                                            if (i < txt.length) {
                                                document.getElementById("title2").innerHTML += txt.charAt(i);
                                                i++;
                                                setTimeout(typeWriter, speed);
                                            }
                                        }

        setInterval(function () { typeWriter(); }, 4000);
    </script>


    <!-- effet sur grand titre -->

    <script>
        // Wrap every letter in a span
        $('.ml6 .letters').each(function () {
            $(this).html($(this).text().replace(/([^\x00-\x80]|\w)/g, "<span class='letter'>$&</span>"));
                                        });

        anime.timeline({ loop: true })
            .add({
                                            targets: '.ml6 .letter',
                translateY: ["1.1em", 0],
                translateZ: 0,
                duration: 750,
                delay: function (el, i) {
                                                return 50 * i;
                                            }
                                        }).add({
                                            targets: '.ml6',
                opacity: 0,
                duration: 1000,
                easing: "easeOutExpo",
                delay: 1000
                                        });
    </script>



    <!--SCRIPT POUR LE SCROLL-->
    <script>

        $(document).ready(function () {
                                            // Check if element is scrolled into view
                                            function isScrolledIntoView(elem) {
                                                var docViewTop = $(window).scrollTop();
                                                var docViewBottom = docViewTop + $(window).height();

                                                var elemTop = $(elem).offset().top;
                                                var elemBottom = elemTop + $(elem).height();

                                                return ((elemBottom <= docViewBottom) && (elemTop >= docViewTop));
                                            }
            // If element is scrolled into view, fade it in
            $(window).scroll(function () {
                $('.scroll-animations .animated').each(function () {
                                                    if (isScrolledIntoView(this) === true) {
                        $(this).addClass('fadeInLeft');
                                                    }
                                                });
                                            });

                                        });
    </script>


    <script>
        viewShown: function () {
            //$(".layout-content").removeClass("has-navbar");
            $(".nav-bar").hide();
            $(".view - footer").hide();
                                        }
    </script>


    <!--script effet du fade sur les image(arrivage des images petit a petit)-->
    <script src="~/Scripts/aos.js"></script>
    <script>
        AOS.init({
            easing: 'ease-in-out-sine'
        });
    </script>




    @*<script>
                function openNav() {
                    document.getElementById("mySidenav").style.width = "250px";
                    document.getElementById("main").style.marginLeft = "250px";
                    //document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
                }

                function closeNav() {
                    document.getElementById("mySidenav").style.width = "0";
                    document.getElementById("main").style.marginLeft = "0";
                    document.body.style.backgroundColor = "white";
                }
        </script>*@
